package org.infosejm.infosejm;

import android.content.Intent;
import android.os.AsyncTask;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.EditText;
import android.widget.TextView;
import org.json.JSONException;
import org.json.JSONObject;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.net.URL;
import java.util.Arrays;
import java.util.Comparator;

import javax.net.ssl.HttpsURLConnection;

public class MainActivity extends AppCompatActivity {
    TextView textView;

    EditText imie, nazwisko;
    //Generated with simple js script, not written manually. API has issues with finding elements using names.
    public static String members[][] = new String[][] {{"6","andzel-waldemar","PiS","139755.93","Waldemar Andzel"},{"3","adamczyk-andrzej","PiS","163254.84000000003","Andrzej Adamczyk"},{"4","ajchler-romuald","SLD","184283.34999999998","Romuald Ajchler"},{"2","adamczak-malgorzata","PO","182663.94","Małgorzata Adamczak"},{"1","abramowicz-adam","PiS","169008.97000000003","Adam Abramowicz"},{"5","aleksandrzak-leszek","SLD","155665.47","Leszek Aleksandrzak"},{"8","ardanowski-jan-krzysztof","PiS","189431.97","Jan Krzysztof Ardanowski"},{"7","arciszewska-mielewczyk-dorota","PiS","163997.77","Dorota Arciszewska-Mielewczyk"},{"10","arkit-tadeusz","PO","165892.32","Tadeusz Arkit"},{"9","arent-iwona","PiS","162193.96999999997","Iwona Ewa Arent"},{"11","arlukowicz-bartosz","PO","171952.29","Bartosz Arłukowicz"},{"13","ast-marek","PiS","147486.38999999998","Marek Ast"},{"14","augustyn-urszula","PO","166302.83","Urszula Augustyn"},{"12","arndt-pawel","PO","217887.93","Paweł Arndt"},{"16","babalski-zbigniew","PiS","155709.61","Zbigniew Babalski"},{"15","aziewicz-tadeusz","PO","187458.55","Tadeusz Aziewicz"},{"19","banaszak-maciej","SLD","179389.11","Maciej Banaszak"},{"17","babinetz-piotr","PiS","155686.00999999998","Piotr Babinetz"},{"18","balt-marek","SLD","202043.96000000002","Marek Balt"},{"22","bauc-piotr-pawel","RP","194500.08000000002","Piotr Paweł Bauć"},{"21","bartus-barbara","PiS","358490.05000000005","Barbara Bartuś"},{"20","bankowska-anna","SLD","164200.02000000002","Anna Bańkowska"},{"23","bak-dariusz","PiS","152873.34","Dariusz Bąk"},{"24","bernacki-wlodzimierz","PiS","151839.58","Włodzimierz Bernacki"},{"29","blanik-leszek","PO","155835.4","Leszek Blanik"},{"27","biernacki-marek","PO","139957.22","Marek Biernacki"},{"28","biernat-andrzej","PO","188552.24","Andrzej Biernat"},{"25","betkowski-andrzej","PiS","185703.28","Andrzej Bętkowski"},{"26","biedron-robert","RP","288027.4","Robert Biedroń"},{"31","bobowska-joanna","PO","161839.87","Joanna Bobowska"},{"35","borkowski-jerzy","RP","170064.03","Jerzy Borkowski"},{"32","bodio-bartlomiej","PSL","46561.520000000004","Bartłomiej Bodio"},{"30","blaszczak-mariusz","PiS","148404.17","Mariusz Błaszczak"},{"34","borawski-edmund","PSL","129109.50000000001","Edmund Borawski"},{"33","bogucki-jacek","PiS","186477.06","Jacek Bogucki"},{"36","borkowski-krzysztof","PSL","166066.31999999998","Krzysztof Borkowski"},{"37","borowczak-jerzy","PO","185700.76","Jerzy Borowczak"},{"40","brejza-krzysztof","PO","155450.62","Krzysztof Brejza"},{"41","brudzinski-joachim","PiS","182161.13999999998","Joachim Brudziński"},{"39","bramora-artur","PSL","151671.63000000003","Artur Bramora"},{"38","borowiak-lukasz","PO","155868.72","Łukasz Borowiak"},{"42","brzezinka-jacek","PO","147475.78999999998","Jacek Brzezinka"},{"45","budka-borys","PO","150000.05000000002","Borys Budka"},{"43","bublewicz-beata","PO","255973.19999999998","Beata Bublewicz"},{"46","budnik-jerzy","Niezrzeszeni","182089.13999999998","Jerzy Budnik"},{"47","bukiewicz-bozenna","PO","250453.69","Bożenna Bukiewicz"},{"44","bubula-barbara","PiS","171714.81","Barbara Bubula"},{"49","bury-jan","PSL","176715.21","Jan Bury"},{"51","cedzynski-jan","SLD","182174.63","Jan Cedzyński"},{"50","butryn-renata","PO","280071.43","Renata Butryn"},{"53","chmielowiec-zbigniew","PiS","174303.21000000002","Zbigniew Chmielowiec"},{"48","bula-andrzej","PO","35105.3","Andrzej Buła"},{"52","charlampowicz-jaroslaw","PO","142252.6","Jarosław Charłampowicz"},{"58","cycon-marian","PO","151756.19","Marian Cycoń"},{"59","czaplicka-barbara","PO","144394.56","Barbara Czaplicka"},{"56","cichon-janusz","PO","176342.31","Janusz Cichoń"},{"57","cieslinski-piotr","PO","183058.62","Piotr Cieśliński"},{"55","chomycz-malgorzata","PO","0","Małgorzata Chomycz"},{"54","chmielowski-piotr","SLD","205221.21","Piotr Chmielowski"},{"61","czartoryski-arkadiusz","PiS","36292.3","Arkadiusz Czartoryski"},{"64","czernow-zofia","PO","163596.16","Zofia Czernow"},{"65","czerwinski-andrzej","PO","163785.03","Andrzej Czerwiński"},{"63","czerniak-jacek","SLD","174182.6","Jacek Czerniak"},{"62","czechyra-czeslaw","PO","145464.68","Czesław Czechyra"},{"69","dabrowski-andrzej","ZP","186440.11","Andrzej Dąbrowski"},{"67","czykwin-eugeniusz","SLD","181642.97","Eugeniusz Czykwin"},{"70","dera-andrzej","ZP","295250.42","Andrzej Dera"},{"60","czarnecki-witold","PiS","135899.34000000003","Witold Czarnecki"},{"68","dabrowska-alicja","PO","170634.67","Alicja Dąbrowska"},{"66","czesak-edward","PiS","153347.24000000002","Edward Czesak"},{"71","debski-artur","PSL","184239.11000000002","Artur Dębski"},{"72","dobrzynski-leszek","PiS","163028.66","Leszek Dobrzyński"},{"73","dolata-zbigniew","PiS","162565.82","Zbigniew Dolata"},{"76","drozd-ewa","PO","155696.66","Ewa Drozd"},{"75","dorn-ludwik","SolPol","177299.40000000002","Ludwik Dorn"},{"74","domaracki-marek","SLD","178016.86000000002","Marek Domaracki"},{"77","duda-andrzej","PiS","130653.8","Andrzej Duda"},{"82","dzieciol-janusz","PO","155708.01","Janusz Dzięcioł"},{"78","dunin-artur","PO","155663.08000000002","Artur Dunin"},{"80","dziadzio-dariusz-cezar","PSL","133394.9","Dariusz Cezar Dziadzio"},{"81","dziedziczak-jan","PiS","367889.31","Jan Dziedziczak"},{"79","durka-zenon","PO","181231.74","Zenon Durka"},{"83","dzikowski-waldy","PO","159203.03999999998","Waldy Dzikowski"},{"85","elsner-wincenty","SLD","159133.06","Wincenty Elsner"},{"87","falfus-jacek","PiS","165066.66999999998","Jacek Falfus"},{"86","fabisiak-joanna","PO","225738.17","Joanna Fabisiak"},{"88","fedorowicz-jerzy","PO","154939.11","Jerzy Fedorowicz"},{"84","dziuba-tadeusz","PiS","162740.96999999997","Tadeusz Dziuba"},{"94","gapinska-elzbieta","PO","173777.97","Elżbieta Gapińska"},{"90","fotyga-anna","PiS","292831.85","Anna Fotyga"},{"89","fiedler-arkady","PO","172289.24000000002","Arkady Fiedler"},{"91","gadowski-krzysztof","PO","158346.94","Krzysztof Gadowski"},{"92","galla-ryszard","Niezrzeszeni","166065.53000000003","Ryszard Galla"},{"93","galazewski-andrzej","PO","314184.33","Andrzej Gałażewski"},{"98","gasior-marek-magdalena","PO","160259.93000000002","Magdalena Gąsior-Marek"},{"95","garbowski-tomasz","SLD","234564.50000000003","Tomasz Garbowski"},{"96","gawlowski-stanislaw","PO","130795.45999999999","Stanisław Gawłowski"},{"99","gelert-elzbieta","PO","162250.53999999998","Elżbieta Gelert"},{"97","gadek-lidia","PO","150391","Lidia Gądek"},{"100","gibala-lukasz","Niezrzeszeni","182351.78","Łukasz Gibała"},{"101","gierada-artur","PO","15990.169999999998","Artur Gierada"},{"102","girzynski-zbigniew","Niezrzeszeni","311924.88","Zbigniew Girzyński"},{"103","gizynski-szymon","PiS","152591.61000000002","Szymon Giżyński"},{"104","gluza-czeslaw","SLD","153265.36","Czesław Gluza"},{"105","glogowski-tomasz","PO","163626.33","Tomasz Głogowski"},{"106","godson-john-abraham","PSL","200794.96000000002","John Abraham Godson"},{"110","gosiewska-malgorzata","PiS","227514.25","Małgorzata Gosiewska"},{"203","krzakala-marek","PO","217376.37","Marek Krząkała"},{"109","gos-marek","PSL","195192.56000000003","Marek Gos"},{"107","golba-mieczyslaw","ZP","159594.43","Mieczysław Golba"},{"108","golojuch-kazimierz","PiS","163337.34","Kazimierz Gołojuch"},{"204","kucharski-cezary","PO","158268.6","Cezary Kucharski"},{"205","kuchcinski-marek","PiS","166221.66","Marek Kuchciński"},{"207","kuzmiuk-zbigniew","PiS","145205.55","Zbigniew Kuźmiuk"},{"208","kwiatkowski-adam","PiS","207582.96","Adam Kwiatkowski"},{"206","kudrycka-barbara","PO","174522.63999999998","Barbara Kudrycka"},{"209","kwiatkowski-jacek","RP","167463.35","Jacek Kwiatkowski"},{"214","lenz-tomasz","PO","188261.97999999998","Tomasz Lenz"},{"210","kwiatkowski-krzysztof","PO","2837.43","Krzysztof Kwiatkowski"},{"213","latos-tomasz","PiS","217141.05","Tomasz Latos"},{"212","lassota-jozef","PO","143005.77","Józef Lassota"},{"211","lamczyk-stanislaw","PO","156183.85","Stanisław Lamczyk"},{"111","gowin-jaroslaw","PiS","185154.83","Jarosław Gowin"},{"115","gorski-tomasz","Niezrzeszeni","9925.59","Tomasz Górski"},{"112","gorczynski-artur","SLD","168358.31999999998","Artur Górczyński"},{"113","gorczynski-jaroslaw","PSL","227543.5","Jarosław Górczyński"},{"116","grabarczyk-cezary","PO","165122.00999999998","Cezary Grabarczyk"},{"119","gras-pawel","PO","125568.65","Paweł Graś"},{"118","grad-mariusz","PO","242014.11","Mariusz Grad"},{"117","grad-aleksander","PO","91807.52","Aleksander Grad"},{"114","gorski-artur","PiS","187574.76","Artur Górski"},{"215","leszczyna-izabela","PO","144683.05","Izabela Leszczyna"},{"219","litwinski-arkadiusz","PO","168810.94","Arkadiusz Litwiński"},{"216","lewandowski-andrzej","RP","160470.94","Andrzej Lewandowski"},{"120","grodzka-anna","Niezrzeszeni","160499.31","Anna Grodzka"},{"218","lipinski-adam","PiS","143870.46","Adam Lipiński"},{"217","lipiec-krzysztof","PiS","46698.119999999995","Krzysztof Lipiec"},{"221","latas-marek","PiS","153182.61000000002","Marek Łatas"},{"223","lopata-jan","PSL","36416.11","Jan Łopata"},{"220","lapinski-marek","PO","153695.44999999998","Marek Łapiński"},{"222","lawrynowicz-zofia","PO","182837.77","Zofia Ławrynowicz"},{"224","lopinski-maciej","PiS","178087.90000000002","Maciej Łopiński"},{"225","luczak-mieczyslaw-marcin","PSL","153221.15","Mieczysław Marcin Łuczak"},{"226","lybacka-krystyna","SLD","155277.78","Krystyna Łybacka"},{"227","machalek-marzena","PiS","155087.41999999998","Marzena Machałek"},{"229","makowski-tomasz","PSL","189998.80000000002","Tomasz Makowski"},{"228","macierewicz-antoni","PiS","163140.07","Antoni Macierewicz"},{"232","malecka-libera-beata","PO","197435.78","Beata Małecka-Libera"},{"235","marczulajtis-walczak-jagna","PO","175491.47000000003","Jagna Marczułajtis-Walczak"},{"230","malik-ewa","PiS","146749.76","Ewa Malik"},{"231","maliszewski-miroslaw","PSL","135177.38","Mirosław Maliszewski"},{"234","marcinkiewicz-malgorzata","RP","186702.75","Małgorzata Marcinkiewicz"},{"237","mastalerek-marcin","PiS","200133.14","Marcin Mastalerek"},{"236","maslowska-gabriela","PiS","157494.38","Gabriela Masłowska"},{"233","malecki-maciej","PiS","171374.81999999998","Maciej Małecki"},{"238","materna-jerzy","PiS","194153.72999999998","Jerzy Materna"},{"121","grupinski-rafal","PO","159582.75000000003","Rafał Grupiński"},{"124","guzowska-iwona","PO","247819.26000000004","Iwona Guzowska"},{"122","grzeszczak-eugeniusz-tomasz","PSL","201266.38999999998","Eugeniusz Tomasz Grzeszczak"},{"123","gut-mostowy-andrzej","PO","141033.66999999998","Andrzej Gut-Mostowy"},{"126","hall-katarzyna","PO","158349.52000000002","Katarzyna Hall"},{"127","hanajczyk-agnieszka","PO","177676.88999999998","Agnieszka Hanajczyk"},{"125","halicki-andrzej","PO","246390.94","Andrzej Halicki"},{"239","matusiak-grzegorz","PiS","180015.16","Grzegorz Matusiak"},{"240","matusik-lipiec-katarzyna","PO","152765.56","Katarzyna Matusik-Lipiec"},{"241","matuszczak-zbigniew","SLD","155510.21999999997","Zbigniew Matuszczak"},{"129","hofman-adam","Niezrzeszeni","301980.79000000004","Adam Hofman"},{"128","hoc-czeslaw","PiS","190428.11","Czesław Hoc"},{"130","hok-marek","PO","201933.68000000002","Marek Hok"},{"245","michalkiewicz-krzysztof","PiS","199215.11000000002","Krzysztof Michałkiewicz"},{"246","miller-leszek","SLD","152857.18","Leszek Miller"},{"244","mezydlo-antoni","PO","169780.66000000003","Antoni Mężydło"},{"131","hoppe-teresa","PO","150406.9","Teresa Hoppe"},{"242","matuszewski-marek","PiS","180490.17","Marek Matuszewski"},{"243","mazurek-beata","PiS","248683.1","Beata Mazurek"},{"249","moskal-kazimierz","PiS","160220.3","Kazimierz Moskal"},{"250","mroczek-czeslaw","PO","115791.87","Czesław Mroczek"},{"251","mroczek-maciej","RP","217312.65","Maciej Mroczek"},{"252","mrzyglocka-izabela-katarzyna","PO","160935.65","Izabela Katarzyna Mrzygłocka"},{"248","miodowicz-konstanty","PO","41323.47","Konstanty Miodowicz"},{"247","miller-rajmund","PO","152095.49","Rajmund Miller"},{"255","munyama-killion","PO","232142.99000000002","Killion Munyama"},{"257","najder-jacek","Biało-Czerwoni","125911.40000000001","Jacek Najder"},{"254","mularczyk-arkadiusz","PiS","320533.92","Arkadiusz Mularczyk"},{"258","napieralski-grzegorz","Biało-Czerwoni","214587.05","Grzegorz Napieralski"},{"256","naimski-piotr","PiS","179577.93","Piotr Naimski"},{"253","mucha-joanna","PO","127676.98","Joanna Mucha"},{"263","niesiolowski-stefan","","166327.00000000003","Stefan Niesiołowski"},{"264","nowak-maria","PiS","147421.43","Maria Nowak"},{"262","niemczyk-malgorzata","PO","159033.44","Małgorzata Niemczyk"},{"261","niedziela-dorota","PO","188668.68","Dorota Niedziela"},{"259","nems-anna","PO","199281.75999999998","Anna Nemś"},{"260","neumann-slawomir","PO","139647.81","Sławomir Neumann"},{"267","nowicka-wanda","Niezrzeszeni","200336.88999999996","Wanda Nowicka"},{"269","okla-drewnowicz-marzena","PO","143797.96000000002","Marzena Okła-Drewnowicz"},{"268","nykiel-miroslawa","PO","203547.12000000005","Mirosława Nykiel"},{"266","nowak-tomasz-piotr","PO","152799.27000000002","Tomasz Piotr Nowak"},{"265","nowak-slawomir","Niezrzeszeni","182961.19999999998","Sławomir Nowak"},{"270","okragly-janina","PO","156177.37","Janina Okrągły"},{"273","olszewski-pawel","PO","178973.68999999997","Paweł Olszewski"},{"275","orzechowski-andrzej","PO","160284.83000000002","Andrzej Orzechowski"},{"271","olechowska-alicja","PO","193369.37","Alicja Olechowska"},{"274","opiola-marek","PiS","307527.70999999996","Marek Opioła"},{"272","olejniczak-cezary","SLD","166847.09","Cezary Olejniczak"},{"276","orzechowski-maciej","PO","209361.8","Maciej Orzechowski"},{"279","oswiecimski-konstanty","PO","143130.47","Konstanty Oświęcimski"},{"278","osuch-jacek","PiS","178361.76","Jacek Osuch"},{"277","ostrowski-artur","SLD","183571.86000000002","Artur Ostrowski"},{"281","ozog-stanislaw","PiS","171075.13999999998","Stanisław Ożóg"},{"282","pacelt-zbigniew","PO","151451.90000000002","Zbigniew Pacelt"},{"280","ozga-krystyna","PSL","161027.27999999997","Krystyna Ozga"},{"286","paluch-anna","PiS","168247.78999999998","Anna Paluch"},{"283","pacholski-michal-tomasz","PSL","143869.13","Michał Tomasz Pacholski"},{"285","palikot-janusz","RP","154810.01","Janusz Palikot"},{"284","pahl-witold","PO","159338.28","Witold Pahl"},{"287","papke-pawel","PO","181356.47000000003","Paweł Papke"},{"288","pawlak-miroslaw","PSL","162905.68","Mirosław Pawlak"},{"289","pawlak-waldemar","PSL","180373.36","Waldemar Pawlak"},{"292","pepek-malgorzata","PO","155415.49","Małgorzata Pępek"},{"291","penkalski-wojciech","Niezrzeszeni","222902.93000000002","Wojciech Penkalski"},{"290","pawlowicz-krystyna","PiS","150680.4","Krystyna Pawłowicz"},{"293","piatak-andrzej","Niezrzeszeni","190652.07","Andrzej Piątak"},{"294","piecha-boleslaw-grzegorz","PiS","14206.46","Bolesław Grzegorz Piecha"},{"296","piechota-slawomir-jan","PO","236659.66000000003","Sławomir Jan Piechota"},{"295","piechocinski-janusz","PSL","74248.95999999999","Janusz Piechociński"},{"297","pierzchala-elzbieta-apolonia","PO","176574.50999999998","Elżbieta Apolonia Pierzchała"},{"298","pietraszewska-danuta","PO","203516.1","Danuta Pietraszewska"},{"299","pietrzczyk-lucjan-marek","PO","156259.9","Lucjan Marek Pietrzczyk"},{"302","piontkowski-dariusz","PiS","198314.04","Dariusz Piontkowski"},{"300","pieta-jaroslaw","PO","133112.81000000003","Jarosław Pięta"},{"301","pieta-stanislaw","PiS","139102.97999999998","Stanisław Pięta"},{"306","plocke-kazimierz","PO","139456.5","Kazimierz Plocke"},{"308","pluta-miroslaw","PO","120814.22","Mirosław Pluta"},{"303","piotrowicz-stanislaw","PiS","157965.47","Stanisław Piotrowicz"},{"304","piotrowska-teresa","PO","168476.75","Teresa Piotrowska"},{"307","plura-marek","PO","262902.59","Marek Plura"},{"305","pitera-julia","PO","169269.76","Julia Pitera"},{"309","polaczek-jerzy","PiS","188264.18999999997","Jerzy Polaczek"},{"310","polak-marek","PiS","145068.81000000003","Marek Polak"},{"313","popiolek-krzysztof","ZP","189943.25999999998","Krzysztof Popiołek"},{"314","popiolek-zofia","RP","157908.16","Zofia Popiołek"},{"311","polak-piotr","PiS","164974.67","Piotr Polak"},{"316","poznanski-marek","Niezrzeszeni","161230.44","Marek Poznański"},{"312","pomaska-agnieszka","PO","269436.67","Agnieszka Pomaska"},{"315","poslednia-krystyna","PO","158791.38999999998","Krystyna Poślednia"},{"320","raczkowski-damian","PO","224560.82","Damian Raczkowski"},{"319","racki-jozef","PSL","162252.56","Józef Racki"},{"317","przadka-stanislawa","SLD","160184.69","Stanisława Prządka"},{"318","pyzik-piotr","PiS","199977.63000000003","Piotr Pyzik"},{"322","rafalska-elzbieta","PiS","209513.36000000002","Elżbieta Rafalska"},{"321","radziszewska-elzbieta","PO","241915.39","Elżbieta Radziszewska"},{"327","rojek-jozef","ZP","148860.79","Józef Rojek"},{"324","ras-ireneusz","PO","216648.48","Ireneusz Raś"},{"325","rebek-jerzy","PiS","152045.83999999997","Jerzy Rębek"},{"328","romanek-andrzej","ZP","157439.56000000003","Andrzej Romanek"},{"323","raniewicz-grzegorz","PO","158470.66","Grzegorz Raniewicz"},{"326","rogacki-adam","Niezrzeszeni","333293.12","Adam Rogacki"},{"333","rutkowska-dorota","PO","158472.12","Dorota Rutkowska"},{"329","rosati-dariusz","PO","156072.46000000002","Dariusz Rosati"},{"332","rusiecki-jaroslaw","PiS","188213.44","Jarosław Rusiecki"},{"330","rozenek-andrzej","Biało-Czerwoni","160017.47999999998","Andrzej Rozenek"},{"331","rozpondek-halina","PO","183715.21","Halina Rozpondek"},{"334","rutnicki-jakub","PO","188711.91","Jakub Rutnicki"},{"335","rybakowicz-adam","RP","205053.05000000002","Adam Rybakowicz"},{"337","ryfinski-armand-kamil","Niezrzeszeni","155373.56","Armand Kamil Ryfiński"},{"336","rybicki-slawomir","PO","29053.35","Sławomir Rybicki"},{"339","rzasa-marek","PO","197246.12","Marek Rząsa"},{"338","rynasiewicz-zbigniew","PO","176115.36","Zbigniew Rynasiewicz"},{"340","rzonca-bogdan","PiS","161999.39","Bogdan Rzońca"},{"346","schetyna-grzegorz","PO","234301.17999999996","Grzegorz Schetyna"},{"345","sawicki-marek","PSL","189220.41999999998","Marek Sawicki"},{"341","sadurska-malgorzata","PiS","163133.77000000002","Małgorzata Sadurska"},{"342","sajak-pawel","PSL","186702.36","Paweł Sajak"},{"343","saluga-wojciech","PO","151550.22","Wojciech Saługa"},{"344","sasin-jacek","PiS","150968.81","Jacek Sasin"},{"347","schreiber-grzegorz","PiS","201808.19","Grzegorz Schreiber"},{"352","sibinska-krystyna","PO","153794.56000000003","Krystyna Sibińska"},{"348","sekula-szmajdzinska-malgorzata","SLD","218032.21000000002","Małgorzata Sekuła-Szmajdzińska"},{"351","siarka-edward","PiS","177656.64","Edward Siarka"},{"349","seliga-dariusz","PiS","251639.56","Dariusz Seliga"},{"350","sellin-jaroslaw","PiS","18635.059999999998","Jarosław Sellin"},{"132","hrynkiewicz-jozefa","PiS","158042.75999999998","Józefa Hrynkiewicz"},{"354","sikorski-radoslaw","PO","125235.82","Radosław Sikorski"},{"353","siedlaczek-henryk","PO","158491.41","Henryk Siedlaczek"},{"355","skowronska-krystyna","PO","204136.15000000002","Krystyna Skowrońska"},{"134","iwinski-tadeusz","SLD","558546.51","Tadeusz Iwiński"},{"133","huskowski-stanislaw","Niezrzeszeni","208300.00999999998","Stanisław Huskowski"},{"136","jackiewicz-dawid","PiS","179744.35","Dawid Jackiewicz"},{"138","jaki-patryk","PiS","172602.61000000002","Patryk Jaki"},{"135","jach-michal","PiS","181575.49000000002","Michał Jach"},{"137","jagiello-jaroslaw-tomasz","Niezrzeszeni","182840.80000000002","Jarosław Tomasz Jagiełło"},{"357","slugocki-waldemar","PO","164609.17","Waldemar Sługocki"},{"356","slawiak-bozena","PO","181260.93","Bożena Sławiak"},{"358","smolarz-henryk","PSL","360998.52999999997","Henryk Smolarz"},{"139","janczyk-wieslaw","PiS","163874.38999999998","Wiesław Janczyk"},{"141","jarmuziewicz-tadeusz","PO","173219.23","Tadeusz Jarmuziewicz"},{"140","janyska-maria-malgorzata","PO","192671.2","Maria Małgorzata Janyska"},{"143","jasinski-wojciech","PiS","155223.82000000004","Wojciech Jasiński"},{"142","jaros-michal","Nowoczesna","191068.32","Michał Jaros"},{"144","jastrzebski-leszek","PO","187780.81","Leszek Jastrzębski"},{"145","jaworski-andrzej","PiS","223553.83000000002","Andrzej Jaworski"},{"359","smolarz-tomasz","PO","178433.7","Tomasz Smolarz"},{"147","jonski-dariusz","SLD","175591.08999999997","Dariusz Joński"},{"148","jurgiel-krzysztof","PiS","152029.61000000002","Krzysztof Jurgiel"},{"146","jedrysek-mariusz-orion","PiS","191889.52000000002","Mariusz Orion Jędrysek"},{"150","kaczmarek-tomasz","Niezrzeszeni","155272.33","Tomasz Kaczmarek"},{"149","kabacinski-michal","RP","165678.87","Michał Kabaciński"},{"151","kaczor-roman","PO","172988.68999999997","Roman Kaczor"},{"154","kalisz-ryszard","Niezrzeszeni","282017.07","Ryszard Kalisz"},{"153","kalemba-stanislaw","PSL","151582.43","Stanisław Kalemba"},{"157","kaminski-mariusz-antoni","Niezrzeszeni","343264.64","Mariusz Antoni Kamiński"},{"156","kaminski-mariusz","PiS","160390.24999999997","Mariusz Kamiński"},{"152","kaczynski-jaroslaw","PiS","148835.68","Jarosław Kaczyński"},{"155","kaminska-bozena","PO","176292.81000000003","Bożena Kamińska"},{"158","kaminski-tomasz","SLD","166991.34","Tomasz Kamiński"},{"161","kasprzak-mieczyslaw","PSL","136686.2","Mieczysław Kasprzak"},{"360","sobecka-anna-elzbieta","PiS","155692.5","Anna Elżbieta Sobecka"},{"160","karpinski-wlodzimierz","PO","170914.63999999998","Włodzimierz Karpiński"},{"361","sosnowski-zbigniew","PSL","161597.72999999998","Zbigniew Sosnowski"},{"162","katulski-jaroslaw","PO","171237.25","Jarosław Katulski"},{"159","kania-andrzej","ZP","14109.099999999999","Andrzej Kania"},{"166","kidawa-blonska-malgorzata","PO","142178.43","Małgorzata Kidawa-Błońska"},{"168","klepacz-witold","RP","179570.96999999997","Witold Klepacz"},{"169","kloc-izabela","PiS","205594.96","Izabela Kloc"},{"163","kazmierczak-jan","PO","276449.37","Jan Kaźmierczak"},{"164","kempa-beata","PiS","185067.72000000003","Beata Kempa"},{"165","kepinski-adam","SLD","169008.13","Adam Kępiński"},{"363","staron-lidia","Niezrzeszeni","170138.29","Lidia Staroń"},{"171","klopotek-eugeniusz","PSL","176494.55","Eugeniusz Kłopotek"},{"170","kluzik-rostkowska-joanna","PO","212149.68","Joanna Kluzik-Rostkowska"},{"172","klosin-krystyna","PO","165737.25","Krystyna Kłosin"},{"167","kierwinski-marcin","PO","176806.6","Marcin Kierwiński"},{"362","sprawka-lech","PiS","132311.55000000002","Lech Sprawka"},{"173","klosowski-krzysztof","SLD","177046.25999999998","Krzysztof Kłosowski"},{"174","klosowski-slawomir","PiS","144154.02","Sławomir Kłosowski"},{"176","kochan-magdalena","PO","187300.27","Magdalena Kochan"},{"177","kolenda-labus-brygida","PO","185948.94","Brygida Kolenda-Łabuś"},{"178","kolacz-leszczynska-agnieszka","PO","158254.05","Agnieszka Kołacz-Leszczyńska"},{"175","kmiecik-henryk","PSL","156346.94999999998","Henryk Kmiecik"},{"179","kolakowski-lech","PiS","180743.21","Lech Kołakowski"},{"181","kolodziej-ewa","PO","174230.80000000002","Ewa Kołodziej"},{"184","kopaczewska-domicela","PO","155581.54","Domicela Kopaczewska"},{"180","kolakowski-robert","PiS","164128.59000000003","Robert Kołakowski"},{"185","kopycinski-slawomir","Biało-Czerwoni","168438.8","Sławomir Kopyciński"},{"182","konwinski-zbigniew","PO","185011.32","Zbigniew Konwiński"},{"183","kopacz-ewa","PO","196286.68","Ewa Kopacz"},{"186","korzeniowski-leszek","PO","148369.54","Leszek Korzeniowski"},{"191","kownacki-bartosz","PiS","190169.22","Bartosz Kownacki"},{"190","kowalski-slawomir","PO","158633.13999999998","Sławomir Kowalski"},{"187","kosecki-roman-jacek","PO","177784.86000000002","Roman Jacek Kosecki"},{"189","kowalczyk-henryk","PiS","193341.33","Henryk Kowalczyk"},{"188","kotlinski-roman","Niezrzeszeni","147705.32","Roman Kotliński"},{"192","kozaczynski-jacek","PO","183275.51","Jacek Kozaczyński"},{"194","kozlowska-rajewicz-agnieszka","PO","190584.90999999997","Agnieszka Kozłowska-Rajewicz"},{"197","kraczkowski-maks","PiS","218660.07","Maks Kraczkowski"},{"193","kozdron-jerzy","PO","118673.19999999998","Jerzy Kozdroń"},{"195","kozlowska-iwona","PO","198084.61000000004","Iwona Kozłowska"},{"196","kozlakiewicz-miroslaw","PO","142609.32","Mirosław Koźlakiewicz"},{"198","krajewska-ligia","PO","204598.1","Ligia Krajewska"},{"201","kruk-elzbieta","PiS","152197.95","Elżbieta Kruk"},{"200","kropiwnicki-robert","PO","152218.88","Robert Kropiwnicki"},{"202","krupa-lukasz","Niezrzeszeni","238620.18","Łukasz Krupa"},{"364","stefaniuk-franciszek-jerzy","PSL","217575.47999999998","Franciszek Jerzy Stefaniuk"},{"199","krasulski-leonard","PiS","147817.59","Leonard Krasulski"},{"365","stolarski-marek","SLD","155696.31000000003","Marek Stolarski"},{"366","strzalkowski-stefan","PiS","167761.62999999998","Stefan Strzałkowski"},{"369","suski-pawel","PO","196848.6","Paweł Suski"},{"367","suchowiejko-wieslaw","PO","159876.65","Wiesław Suchowiejko"},{"370","sycz-miron","PO","199894.31","Miron Sycz"},{"368","suski-marek","PiS","167892.81","Marek Suski"},{"372","szarama-wojciech","PiS","155703.21000000002","Wojciech Szarama"},{"371","szalamacha-pawel","PiS","155428","Paweł Szałamacha"},{"377","szeliga-piotr","Niezrzeszeni","190631.76","Piotr Szeliga"},{"373","szczerba-michal","PO","269858.64999999997","Michał Szczerba"},{"378","szlachta-andrzej","PiS","183686.53","Andrzej Szlachta"},{"375","szczypinska-jolanta","PiS","155297.1","Jolanta Szczypińska"},{"374","szczerski-krzysztof","PiS","231198.05","Krzysztof Szczerski"},{"376","szejnfeld-adam","PO","231055.48000000004","Adam Szejnfeld"},{"383","szumilas-krystyna","PO","167322.45","Krystyna Szumilas"},{"381","sztorc-andrzej","PSL","199305.88","Andrzej Sztorc"},{"379","szmit-jerzy","PiS","190024.78999999998","Jerzy Szmit"},{"380","sztolcman-grzegorz","PO","156557.31","Grzegorz Sztolcman"},{"382","szulc-jakub","PO","150266.5","Jakub Szulc"},{"387","szymanski-tomasz","PO","181925.81999999998","Tomasz Szymański"},{"384","szwed-stanislaw","PiS","158084.41","Stanisław Szwed"},{"386","szydlowska-bozena","PO","196223.85000000003","Bożena Szydłowska"},{"389","szyszko-jan","PiS","140310.09","Jan Szyszko"},{"388","szymiec-raczynska-halina","PSL","138775.87999999998","Halina Szymiec-Raczyńska"},{"385","szydlo-beata","PiS","166609.46","Beata Szydło"},{"390","sledzinska-katarasinska-iwona","PO","152118.44","Iwona Śledzińska-Katarasińska"},{"391","sniadek-janusz","PiS","155720","Janusz Śniadek"},{"392","swiat-jacek","PiS","155190.75","Jacek Świat"},{"393","swiecicki-marcin","PO","194723.84999999998","Marcin Święcicki"},{"394","tchorzewski-krzysztof","PiS","149195.96","Krzysztof Tchórzewski"},{"395","telus-robert","PiS","154461.52","Robert Telus"},{"400","tomaszewski-jan","PO","153323.25","Jan Tomaszewski"},{"399","tomanski-piotr","PO","164555.89","Piotr Tomański"},{"396","terlecki-ryszard","PiS","155486.48","Ryszard Terlecki"},{"401","tomaszewski-tadeusz","SLD","162245.79","Tadeusz Tomaszewski"},{"398","tokarska-genowefa","PSL","154364.4","Genowefa Tokarska"},{"397","tobiszowski-grzegorz","PiS","172605.47999999998","Grzegorz Tobiszowski"},{"404","tomczykiewicz-tomasz","PO","159984.67","Tomasz Tomczykiewicz"},{"402","tomczak-jacek","PO","149333.91","Jacek Tomczak"},{"403","tomczyk-cezary","PO","221117.51","Cezary Tomczyk"},{"407","tyszkiewicz-robert","PO","67884.59","Robert Tyszkiewicz"},{"405","trybus-cieslar-aleksandra","PO","190605.03","Aleksandra Trybuś-Cieślar"},{"406","tusk-donald","PO","146157.38","Donald Tusk"},{"408","ujazdowski-kazimierz-michal","PiS","150325.59","Kazimierz Michał Ujazdowski"},{"412","wardzala-robert","PO","157201.46","Robert Wardzała"},{"409","coghen-piotr-van-der","PO","217574.49000000002","Piotr Van der Coghen"},{"413","warzecha-jan","PiS","166002.4","Jan Warzecha"},{"410","vincent-rostowski-jan","PO","131128.97","Jan Vincent-Rostowski"},{"411","walkowski-piotr","PSL","153354.89","Piotr Walkowski"},{"414","waszczykowski-witold","PiS","324445.24000000005","Witold Waszczykowski"},{"415","wenderlich-jerzy","SLD","351997.46","Jerzy Wenderlich"},{"416","wielichowska-monika","PO","157840.19999999998","Monika Wielichowska"},{"419","witczak-mariusz","PO","36292.3","Mariusz Witczak"},{"417","wipler-przemyslaw","Niezrzeszeni","152570.12","Przemysław Wipler"},{"418","wisniewska-jadwiga","PiS","190990.13","Jadwiga Wiśniewska"},{"424","wojnarowski-norbert","PO","157423.28","Norbert Wojnarowski"},{"425","wojtkiewicz-michal","PiS","165992.24000000002","Michał Wojtkiewicz"},{"421","witko-marcin","PiS","168550.15","Marcin Witko"},{"422","witkowski-radoslaw","PO","159499.68","Radosław Witkowski"},{"420","witek-elzbieta","PiS","155692.97999999998","Elżbieta Witek"},{"423","wlodkowski-zbigniew","PSL","211553.54","Zbigniew Włodkowski"},{"429","wozniak-grzegorz-adam","PiS","181049.39999999997","Grzegorz Adam Woźniak"},{"431","wojcik-marek","PO","159476.96","Marek Wójcik"},{"432","wrobel-marzena-dorota","Niezrzeszeni","157675.62","Marzena Dorota Wróbel"},{"426","wojtkowski-marek","PO","192808.58000000002","Marek Wojtkowski"},{"427","wolak-ewa","PO","178464.6","Ewa Wolak"},{"430","wozniak-tadeusz","PiS","159367.74","Tadeusz Woźniak"},{"428","wontor-boguslaw","SLD","221683.89","Bogusław Wontor"},{"433","wydrzynski-maciej","Niezrzeszeni","191778.62","Maciej Wydrzyński"},{"438","zaremba-renata","PO","36292.3","Renata Zaremba"},{"439","zawadzki-ryszard","PO","147582.80000000002","Ryszard Zawadzki"},{"435","zaborowski-zbyszek","SLD","286305.16000000003","Zbyszek Zaborowski"},{"437","zalewska-anna","PiS","193618.14","Anna Zalewska"},{"434","wziatek-stanislaw","SLD","197619.02","Stanisław Wziątek"},{"436","zakrzewska-jadwiga","PO","273379.25","Jadwiga Zakrzewska"},{"441","zbonikowski-lukasz","PiS","322155.85000000003","Łukasz Zbonikowski"},{"440","zawislak-slawomir","PiS","11523.83","Sławomir Zawiślak"},{"443","zdrojewski-bogdan","PO","166674.75","Bogdan Zdrojewski"},{"445","zielinski-jaroslaw","PiS","183299.77000000002","Jarosław Zieliński"},{"442","zbrzyzny-ryszard","SLD","154006.88","Ryszard Zbrzyzny"},{"444","zgorzelski-piotr","PSL","186518.11","Piotr Zgorzelski"},{"446","zielinski-maciej","PO","157921.16999999998","Maciej Zieliński"},{"451","zlotowski-kosma","PiS","183682.71","Kosma Złotowski"},{"450","ziobro-kazimierz","ZP","166289.56","Kazimierz Ziobro"},{"449","ziobro-jan","ZP","156642.29","Jan Ziobro"},{"447","ziemniak-wojciech","PO","189412.27000000002","Wojciech Ziemniak"},{"448","zietek-jerzy","Niezrzeszeni","147936.12","Jerzy Ziętek"},{"453","zubowski-wojciech","PiS","36292.3","Wojciech Zubowski"},{"452","zuba-maria","PiS","26412","Maria Zuba"},{"454","zych-jozef","PSL","167913.33000000002","Józef Zych"},{"456","zalek-jacek","PiS","204239.46999999997","Jacek Żalek"},{"457","zelichowski-stanislaw","PSL","158187.23","Stanisław Żelichowski"},{"455","zaczek-jaroslaw","SprPol","157062.90999999997","Jarosław Żaczek"},{"460","zyzynski-jerzy","PiS","163085.69","Jerzy Żyżyński"},{"459","zmuda-trzebiatowska-ewa","PO","189022.33999999997","Ewa Żmuda-Trzebiatowska"},{"458","zmijan-stanislaw","PO","162655.37","Stanisław Żmijan"}};
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        Arrays.sort(members, new Comparator<String[]>() {
            @Override
            public int compare(String[] o1, String[] o2) {

                double one = Double.parseDouble(o1[3]);
                double two = Double.parseDouble(o2[3]);
                if (one > two) {
                    return 1;
                } else if (one < two) {
                    return -1;
                } else {
                    return 0;
                }
            }
        });
        textView = (TextView) findViewById(R.id.textView);
        imie = (EditText) findViewById(R.id.editText);
        nazwisko = (EditText) findViewById(R.id.editText2);
        textView = (TextView)findViewById(R.id.textView);
    }
    public void json(View view) {
        String imieInput = imie.getText().toString().toLowerCase();
        String imieOutput = imieInput.replace("ł", "l").replace("ą", "a").replace("ś", "s")
                .replace("ż", "z").replace("ć", "c").replace("ę", "e")
                .replace("ó", "o").replace("ź", "z").replace("ń", "n");
        String nazwiskoInput = nazwisko.getText().toString().toLowerCase();
        String nazwiskoOutput = nazwiskoInput.replace("ł", "l").replace("ą", "a").replace("ś", "s")
                .replace("ż", "z").replace("ć", "c").replace("ę", "e")
                .replace("ó", "o").replace("ź", "z").replace("ń", "n");
        String id = "";
        String posel = (nazwiskoOutput + "-" + imieOutput);

        for(int i = 0; i<members.length; i++){
            if(posel.equals(members[i][1])){
                id = members[i][0];
            }
        }
        new JSONTask().execute("https://api-v3.mojepanstwo.pl/dane/poslowie/" + id + ".json");
    }

    public class JSONTask extends AsyncTask<String, String, String> {

        @Override
        protected String doInBackground(String... params) {
            HttpsURLConnection connection = null;
            BufferedReader reader = null;
            try {
                URL url = new URL(params[0]);
                connection = (HttpsURLConnection) url.openConnection();
                connection.connect();

                InputStream stream = connection.getInputStream();

                reader = new BufferedReader(new InputStreamReader(stream));
                StringBuilder buffer = new StringBuilder();
                String line;
                while ((line = reader.readLine()) != null) {
                    buffer.append(line).append("");
                }
                String finalJSon = buffer.toString();
                JSONObject parentObject = new JSONObject(finalJSon);
                JSONObject finalObject = parentObject.getJSONObject("data");
                //Personal data
                String nazwa = finalObject.getString("ludzie.nazwa");
                String klub = finalObject.getString("sejm_kluby.nazwa");
                String dataUrodzenia = finalObject.getString("poslowie.data_urodzenia");
                String zamieszkanie = finalObject.getString("poslowie.miejsce_zamieszkania");
                String zawod = finalObject.getString("poslowie.zawod");
                // Actions
                String liczbaProjektowUchwal = finalObject.getString("poslowie.liczba_projektow_uchwal");
                String liczbaWypowiedzi = finalObject.getString("poslowie.liczba_wypowiedzi");
                String liczbaProjektowUstaw = finalObject.getString("poslowie.liczba_projektow_ustaw");
                String liczbaGlosowan = finalObject.getString("poslowie.liczba_glosowan");
                String liczbaGlosowowanOpuszczonych = finalObject.getString("poslowie.liczba_glosowan_opuszczonych");
                // Money spent
                String biuroInne = finalObject.getString("poslowie.wartosc_biuro_inne");
                String biuroEkspertyzy = finalObject.getString("poslowie.wartosc_biuro_ekspertyzy");
                String biuroMaterialy = finalObject.getString("poslowie.wartosc_biuro_materialy_biurowe");
                String biuroTaksowki = finalObject.getString("poslowie.wartosc_biuro_taksowki");
                String biuroZlecenia = finalObject.getString("poslowie.wartosc_biuro_zlecenia");
                String biuroWynagrodzenia = finalObject.getString("poslowie.wartosc_biuro_wynagrodzenia_pracownikow");
                String biuroUposazenia = finalObject.getString("poslowie.wartosc_uposazenia_pln");
                String biuroSpotkania = finalObject.getString("poslowie.wartosc_biuro_spotkania");
                String biuroWyjazdy = finalObject.getString("poslowie.wartosc_wyjazdow");
                String biuroPrzejazdy = finalObject.getString("poslowie.wartosc_biuro_przejazdy");
                String biuroRefundacja = finalObject.getString("poslowie.wartosc_refundacja_kwater_pln");
                String biuroTelekomunikacja = finalObject.getString("poslowie.wartosc_biuro_telekomunikacja");
                String biuroBiuro = finalObject.getString("poslowie.wartosc_biuro_biuro");
                String biuroPodrozePracownikow = finalObject.getString("poslowie.wartosc_biuro_podroze_pracownikow");
                String biuroSrodkiTrwale = finalObject.getString("poslowie.wartosc_biuro_srodki_trwale");

                double sumaWydatkow = Double.parseDouble(biuroInne) +  Double.parseDouble(biuroEkspertyzy) +
                        Double.parseDouble(biuroMaterialy) + Double.parseDouble(biuroTaksowki) + Double.parseDouble( biuroZlecenia) +
                        Double.parseDouble(biuroWynagrodzenia) +
                        Double.parseDouble(biuroUposazenia) + Double.parseDouble(biuroSpotkania) + Double.parseDouble(biuroWyjazdy) +
                        Double.parseDouble(biuroPrzejazdy) +  Double.parseDouble(biuroRefundacja) +  Double.parseDouble(biuroTelekomunikacja ) +
                        + Double.parseDouble(biuroBiuro) + Double.parseDouble(biuroPodrozePracownikow ) + Double.parseDouble(biuroSrodkiTrwale);
                double zaokragloneWydatki = Math.round(sumaWydatkow * 100.0) / 100.0;
                long l = (long)zaokragloneWydatki;
                String zaokragloneWydatkiFormat = String.format("%,8d", l);


                return "Dane personalne" + "\n\nImię i nazwisko: " + nazwa + "\nData urodzenia: " + dataUrodzenia +
                        "\nMiejsce zamieszkania: " + zamieszkanie + "\nZawód: " + zawod +
                        "\nPartia: " + klub + "\n\nDziałania w Sejmie RP" +
                        "\n\nLiczba projektów uchwał: " + liczbaProjektowUchwal + "\nLiczba wypowiedzi: " + liczbaWypowiedzi+
                        "\nLiczba projektów ustaw: " + liczbaProjektowUstaw + "\nLiczba głosowań: " + liczbaGlosowan +
                        "\nLiczba głosowań opuszczonych: " + liczbaGlosowowanOpuszczonych + "\n\nWydatki" +
                        "\n\nWydatki na ekspertyzy: " + biuroEkspertyzy + " zł" + "\nWydatki na materiały: " + biuroMaterialy + " zł" +
                        "\nWydatki na taksówki: " + biuroTaksowki + " zł" + "\nWydatki na zlecenia: " + biuroZlecenia + " zł" +
                        "\nWydatki na wynagrodzenia: " + biuroWynagrodzenia + " zł" + "\nWydatki na uposażenia: " + biuroUposazenia + " zł" +
                        "\nWydatki na spotkania: " + biuroSpotkania + " zł" + "\nWydatki na wyjazdy: " + biuroWyjazdy +
                        "\nWydatki na przejazdy: " + biuroPrzejazdy + " zł" + "\nWydatki na refudacja: " + biuroRefundacja + " zł" +
                        "\nWydatki na telekomunikacje: " + biuroTelekomunikacja + " zł" + "\nWydatki na biuro: " + biuroBiuro + " zł" +
                        "\nWydatki na podróże pracowników: " + biuroPodrozePracownikow + " zł" + "\nWydatki na środki trwałe: " + biuroSrodkiTrwale + " zł" +
                        "\nWydatki na biuro(inne): " + biuroInne + " zł" + "\n\nSuma wydatków: " + zaokragloneWydatkiFormat + " zł";
            } catch (IOException | JSONException e) {
                e.printStackTrace();
            } finally {
                if (connection != null) {
                    connection.disconnect();
                }
                try {
                    if (reader != null) {
                        reader.close();
                    }
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
            return null;
        }
        @Override
        protected void onPostExecute(String result) {
            super.onPostExecute(result);
            textView.setText(result);

        }
    }

}
